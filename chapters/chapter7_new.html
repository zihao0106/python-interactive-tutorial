<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬7ç« ï¼šå‡½æ•° - Pythonç¼–ç¨‹æ•™ç¨‹</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container">
            <a class="navbar-brand" href="../index.html">ğŸ Pythonæ•™ç¨‹</a>
            <div class="navbar-nav ms-auto">
                <span class="navbar-text me-3">
                    <span class="python-status">PythonçŠ¶æ€: <span id="python-status">å‡†å¤‡ä¸­...</span></span>
                </span>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-5 pt-3">
        <div class="row">
            <div class="col-md-3">
                <div class="sidebar">
                    <div class="sidebar-sticky">
                        <div class="sidebar-content">
                            <nav class="nav flex-column">
                                <a class="nav-link" href="chapter1.html">ç¬¬1ç« ï¼šPythonç®€ä»‹</a>
                                <a class="nav-link" href="chapter2.html">ç¬¬2ç« ï¼šå˜é‡ä¸æ•°æ®ç±»å‹</a>
                                <a class="nav-link" href="chapter3.html">ç¬¬3ç« ï¼šè¿ç®—ç¬¦</a>
                                <a class="nav-link" href="chapter4.html">ç¬¬4ç« ï¼šæ§åˆ¶ç»“æ„</a>
                                <a class="nav-link" href="chapter5.html">ç¬¬5ç« ï¼šåˆ—è¡¨ä¸å…ƒç»„</a>
                                <a class="nav-link" href="chapter6.html">ç¬¬6ç« ï¼šå­—å…¸ä¸é›†åˆ</a>
                                <a class="nav-link active" href="chapter7.html">ç¬¬7ç« ï¼šå‡½æ•°</a>
                                <a class="nav-link" href="chapter8.html">ç¬¬8ç« ï¼šæ¨¡å—ä¸åŒ…</a>
                                <a class="nav-link" href="chapter9.html">ç¬¬9ç« ï¼šå­—ç¬¦ä¸²å¤„ç†</a>
                                <a class="nav-link" href="chapter10.html">ç¬¬10ç« ï¼šæ­£åˆ™è¡¨è¾¾å¼</a>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-9">
                <main>
                    <h1>ç¬¬7ç« ï¼šå‡½æ•°</h1>

                    <!-- å­¦ä¹ ç›®æ ‡ -->
                    <section class="mb-4">
                        <div class="card bg-light">
                            <div class="card-header">
                                <h5>ğŸ¯ å­¦ä¹ ç›®æ ‡</h5>
                            </div>
                            <div class="card-body">
                                <ul>
                                    <li>ç†è§£å‡½æ•°çš„æ¦‚å¿µå’Œä½œç”¨</li>
                                    <li>æŒæ¡å‡½æ•°çš„å®šä¹‰å’Œè°ƒç”¨</li>
                                    <li>å­¦ä¼šä½¿ç”¨å‚æ•°å’Œè¿”å›å€¼</li>
                                    <li>ç†è§£ä½œç”¨åŸŸçš„æ¦‚å¿µ</li>
                                    <li>æŒæ¡lambdaå‡½æ•°çš„ä½¿ç”¨</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- çŸ¥è¯†ç‚¹1ï¼šå‡½æ•°åŸºç¡€ -->
                    <section class="mb-4">
                        <h2>ğŸ“š å‡½æ•°åŸºç¡€</h2>
                        <p>å‡½æ•°æ˜¯ä¸€æ®µå¯é‡å¤ä½¿ç”¨çš„ä»£ç å—ï¼Œç”¨æ¥å®Œæˆç‰¹å®šçš„ä»»åŠ¡ã€‚å‡½æ•°å¯ä»¥æ¥æ”¶å‚æ•°ï¼Œæ‰§è¡Œæ“ä½œï¼Œå¹¶è¿”å›ç»“æœã€‚</p>

                        <h3>å®šä¹‰å’Œè°ƒç”¨å‡½æ•°</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» å®šä¹‰å‡½æ•°</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python"># å®šä¹‰ä¸€ä¸ªç®€å•çš„å‡½æ•°
def greet():
    print("ä½ å¥½ï¼æ¬¢è¿å­¦ä¹ Pythonï¼")

# è°ƒç”¨å‡½æ•°
greet()

# å®šä¹‰å¸¦å‚æ•°çš„å‡½æ•°
def greet_person(name):
    print(f"ä½ å¥½ï¼Œ{name}ï¼")

# è°ƒç”¨å¸¦å‚æ•°çš„å‡½æ•°
greet_person("å¼ ä¸‰")
greet_person("æå››")

# å®šä¹‰æœ‰è¿”å›å€¼çš„å‡½æ•°
def add_numbers(a, b):
    result = a + b
    return result

# è°ƒç”¨å¹¶è·å–è¿”å›å€¼
sum_result = add_numbers(5, 3)
print(f"5 + 3 = {sum_result}")</code></pre>
                        </div>
                    </section>

                    <!-- çŸ¥è¯†ç‚¹2ï¼šå‚æ•°ç±»å‹ -->
                    <section class="mb-4">
                        <h2>ğŸ”§ å‚æ•°ç±»å‹</h2>
                        
                        <h3>ä½ç½®å‚æ•°å’Œå…³é”®å­—å‚æ•°</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» å‚æ•°ç±»å‹</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python"># ä½ç½®å‚æ•°
def introduce(name, age, city):
    print(f"æˆ‘å«{name}ï¼Œä»Šå¹´{age}å²ï¼Œæ¥è‡ª{city}")

# æŒ‰ä½ç½®ä¼ é€’å‚æ•°
introduce("å¼ ä¸‰", 25, "åŒ—äº¬")

# å…³é”®å­—å‚æ•°
introduce(age=30, name="æå››", city="ä¸Šæµ·")

# æ··åˆä½¿ç”¨ï¼ˆä½ç½®å‚æ•°å¿…é¡»åœ¨å‰ï¼‰
introduce("ç‹äº”", age=28, city="å¹¿å·")</code></pre>
                        </div>

                        <h3>é»˜è®¤å‚æ•°</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» é»˜è®¤å‚æ•°</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python"># å®šä¹‰å¸¦é»˜è®¤å‚æ•°çš„å‡½æ•°
def greet_with_title(name, title="åŒå­¦"):
    print(f"ä½ å¥½ï¼Œ{title}{name}ï¼")

# ä½¿ç”¨é»˜è®¤å‚æ•°
greet_with_title("å¼ ä¸‰")

# è¦†ç›–é»˜è®¤å‚æ•°
greet_with_title("å¼ ä¸‰", "è€å¸ˆ")

# è®¡ç®—åœ†çš„é¢ç§¯ï¼ˆå¸¦é»˜è®¤çš„Ï€å€¼ï¼‰
def circle_area(radius, pi=3.14159):
    return pi * radius ** 2

print(f"åŠå¾„ä¸º5çš„åœ†é¢ç§¯: {circle_area(5)}")
print(f"ä½¿ç”¨ç²¾ç¡®Ï€å€¼: {circle_area(5, 3.141592653589793)}")</code></pre>
                        </div>

                        <h3>å¯å˜å‚æ•°</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» å¯å˜å‚æ•°</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python"># *args - å¯å˜ä½ç½®å‚æ•°
def sum_all(*numbers):
    total = 0
    for num in numbers:
        total += num
    return total

print("æ±‚å’Œ:", sum_all(1, 2, 3, 4, 5))
print("æ±‚å’Œ:", sum_all(10, 20))

# **kwargs - å¯å˜å…³é”®å­—å‚æ•°
def print_info(**info):
    for key, value in info.items():
        print(f"{key}: {value}")

print("å­¦ç”Ÿä¿¡æ¯:")
print_info(name="å¼ ä¸‰", age=20, major="è®¡ç®—æœºç§‘å­¦", city="åŒ—äº¬")

# æ··åˆä½¿ç”¨
def full_info(name, *hobbies, **details):
    print(f"å§“å: {name}")
    print(f"çˆ±å¥½: {', '.join(hobbies)}")
    for key, value in details.items():
        print(f"{key}: {value}")

print("\nå®Œæ•´ä¿¡æ¯:")
full_info("æå››", "è¯»ä¹¦", "æ¸¸æ³³", "ç¼–ç¨‹", age=25, city="ä¸Šæµ·")</code></pre>
                        </div>
                    </section>

                    <!-- çŸ¥è¯†ç‚¹3ï¼šä½œç”¨åŸŸ -->
                    <section class="mb-4">
                        <h2>ğŸŒ ä½œç”¨åŸŸ</h2>
                        
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» å˜é‡ä½œç”¨åŸŸ</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python"># å…¨å±€å˜é‡
global_var = "æˆ‘æ˜¯å…¨å±€å˜é‡"

def scope_demo():
    # å±€éƒ¨å˜é‡
    local_var = "æˆ‘æ˜¯å±€éƒ¨å˜é‡"
    print("å‡½æ•°å†…éƒ¨:")
    print("  å…¨å±€å˜é‡:", global_var)
    print("  å±€éƒ¨å˜é‡:", local_var)

scope_demo()

print("å‡½æ•°å¤–éƒ¨:")
print("  å…¨å±€å˜é‡:", global_var)
# print("  å±€éƒ¨å˜é‡:", local_var)  # è¿™è¡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºå±€éƒ¨å˜é‡åœ¨å‡½æ•°å¤–ä¸å¯è®¿é—®

# globalå…³é”®å­—
counter = 0

def increment():
    global counter
    counter += 1
    print(f"è®¡æ•°å™¨: {counter}")

increment()
increment()
print(f"æœ€ç»ˆè®¡æ•°å™¨å€¼: {counter}")

# nonlocalå…³é”®å­—
def outer_function():
    x = 10
    
    def inner_function():
        nonlocal x
        x += 5
        print(f"å†…éƒ¨å‡½æ•°ä¸­çš„x: {x}")
    
    inner_function()
    print(f"å¤–éƒ¨å‡½æ•°ä¸­çš„x: {x}")

outer_function()</code></pre>
                        </div>
                    </section>

                    <!-- çŸ¥è¯†ç‚¹4ï¼šLambdaå‡½æ•° -->
                    <section class="mb-4">
                        <h2>âš¡ Lambdaå‡½æ•°</h2>
                        <p>Lambdaå‡½æ•°æ˜¯åŒ¿åå‡½æ•°ï¼Œç”¨äºåˆ›å»ºç®€çŸ­çš„å‡½æ•°ã€‚è¯­æ³•ï¼šlambda å‚æ•°: è¡¨è¾¾å¼</p>
                        
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» Lambdaå‡½æ•°</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python"># åŸºæœ¬lambdaå‡½æ•°
square = lambda x: x ** 2
print(f"5çš„å¹³æ–¹: {square(5)}")

# å¤šä¸ªå‚æ•°çš„lambda
add = lambda x, y: x + y
print(f"3 + 7 = {add(3, 7)}")

# åœ¨å†…ç½®å‡½æ•°ä¸­ä½¿ç”¨lambda
numbers = [1, 2, 3, 4, 5]

# map() - å¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨å‡½æ•°
squares = list(map(lambda x: x**2, numbers))
print("å¹³æ–¹æ•°:", squares)

# filter() - è¿‡æ»¤å…ƒç´ 
evens = list(filter(lambda x: x % 2 == 0, numbers))
print("å¶æ•°:", evens)

# sorted() - æ’åº
students = [("å¼ ä¸‰", 85), ("æå››", 92), ("ç‹äº”", 78)]
sorted_by_score = sorted(students, key=lambda student: student[1])
print("æŒ‰æˆç»©æ’åº:", sorted_by_score)

# å¤æ‚çš„lambdaç¤ºä¾‹
data = [
    {"name": "å¼ ä¸‰", "age": 25, "score": 85},
    {"name": "æå››", "age": 23, "score": 92},
    {"name": "ç‹äº”", "age": 27, "score": 78}
]

# æŒ‰å¹´é¾„æ’åº
sorted_by_age = sorted(data, key=lambda x: x["age"])
print("æŒ‰å¹´é¾„æ’åº:")
for item in sorted_by_age:
    print(f"  {item['name']}: {item['age']}å²")</code></pre>
                        </div>
                    </section>

                    <!-- çŸ¥è¯†ç‚¹5ï¼šè£…é¥°å™¨åŸºç¡€ -->
                    <section class="mb-4">
                        <h2>ğŸ­ è£…é¥°å™¨åŸºç¡€</h2>
                        <p>è£…é¥°å™¨æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œç”¨äºåœ¨ä¸ä¿®æ”¹åŸå‡½æ•°ä»£ç çš„æƒ…å†µä¸‹ï¼Œä¸ºå‡½æ•°æ·»åŠ æ–°åŠŸèƒ½ã€‚</p>
                        
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» ç®€å•è£…é¥°å™¨</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python">import time

# å®šä¹‰ä¸€ä¸ªè®¡æ—¶è£…é¥°å™¨
def timer(func):
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()
        print(f"{func.__name__} æ‰§è¡Œæ—¶é—´: {end_time - start_time:.4f}ç§’")
        return result
    return wrapper

# ä½¿ç”¨è£…é¥°å™¨
@timer
def slow_function():
    time.sleep(0.1)  # æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
    return "ä»»åŠ¡å®Œæˆ"

# è°ƒç”¨è¢«è£…é¥°çš„å‡½æ•°
result = slow_function()
print(result)

# æ—¥å¿—è£…é¥°å™¨
def log_calls(func):
    def wrapper(*args, **kwargs):
        print(f"è°ƒç”¨å‡½æ•°: {func.__name__}")
        print(f"å‚æ•°: args={args}, kwargs={kwargs}")
        result = func(*args, **kwargs)
        print(f"è¿”å›å€¼: {result}")
        return result
    return wrapper

@log_calls
def multiply(x, y):
    return x * y

multiply(3, 4)</code></pre>
                        </div>
                    </section>

                    <!-- å®è·µç»ƒä¹  -->
                    <section class="mb-4">
                        <h2>ğŸ’» å®è·µç»ƒä¹ </h2>
                        
                        <h3>ç»ƒä¹ 1ï¼šè®¡ç®—å™¨å‡½æ•°</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» è®¡ç®—å™¨å‡½æ•°</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python"># å®šä¹‰è®¡ç®—å™¨å‡½æ•°
def calculator(a, b, operation="+"):
    """
    ç®€å•è®¡ç®—å™¨å‡½æ•°
    å‚æ•°:
        a: ç¬¬ä¸€ä¸ªæ•°å­—
        b: ç¬¬äºŒä¸ªæ•°å­—
        operation: è¿ç®—ç¬¦ (+, -, *, /, **)
    è¿”å›:
        è®¡ç®—ç»“æœ
    """
    if operation == "+":
        return a + b
    elif operation == "-":
        return a - b
    elif operation == "*":
        return a * b
    elif operation == "/":
        if b != 0:
            return a / b
        else:
            return "é”™è¯¯ï¼šé™¤æ•°ä¸èƒ½ä¸ºé›¶"
    elif operation == "**":
        return a ** b
    else:
        return "é”™è¯¯ï¼šä¸æ”¯æŒçš„è¿ç®—ç¬¦"

# æµ‹è¯•è®¡ç®—å™¨
print("è®¡ç®—å™¨æµ‹è¯•:")
print(f"10 + 5 = {calculator(10, 5)}")
print(f"10 - 5 = {calculator(10, 5, '-')}")
print(f"10 * 5 = {calculator(10, 5, '*')}")
print(f"10 / 5 = {calculator(10, 5, '/')}")
print(f"10 ** 2 = {calculator(10, 2, '**')}")
print(f"10 / 0 = {calculator(10, 0, '/')}")

# æ‰¹é‡è®¡ç®—
operations = [
    (15, 3, "+"),
    (15, 3, "-"),
    (15, 3, "*"),
    (15, 3, "/")
]

for a, b, op in operations:
    result = calculator(a, b, op)
    print(f"{a} {op} {b} = {result}")</code></pre>
                        </div>

                        <h3>ç»ƒä¹ 2ï¼šç»Ÿè®¡å‡½æ•°</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» ç»Ÿè®¡å‡½æ•°</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python"># å®šä¹‰ç»Ÿè®¡å‡½æ•°
def statistics(numbers):
    """
    è®¡ç®—æ•°å­—åˆ—è¡¨çš„ç»Ÿè®¡ä¿¡æ¯
    è¿”å›: å­—å…¸åŒ…å«æœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ã€æ€»å’Œ
    """
    if not numbers:
        return {"error": "åˆ—è¡¨ä¸ºç©º"}
    
    return {
        "count": len(numbers),
        "sum": sum(numbers),
        "average": sum(numbers) / len(numbers),
        "max": max(numbers),
        "min": min(numbers),
        "range": max(numbers) - min(numbers)
    }

# é«˜é˜¶å‡½æ•° - è‡ªå®šä¹‰è¿‡æ»¤å’Œæ˜ å°„
def process_data(data, filter_func=None, map_func=None):
    """
    å¤„ç†æ•°æ®ï¼šè¿‡æ»¤å’Œè½¬æ¢
    """
    result = data
    
    if filter_func:
        result = list(filter(filter_func, result))
    
    if map_func:
        result = list(map(map_func, result))
    
    return result

# æµ‹è¯•ç»Ÿè®¡å‡½æ•°
test_data = [85, 92, 78, 96, 88, 76, 94, 82, 90, 87]
stats = statistics(test_data)

print("æˆç»©ç»Ÿè®¡:")
for key, value in stats.items():
    if key == "average":
        print(f"{key}: {value:.2f}")
    else:
        print(f"{key}: {value}")

# æµ‹è¯•æ•°æ®å¤„ç†å‡½æ•°
print("\næ•°æ®å¤„ç†æµ‹è¯•:")
print("åŸå§‹æ•°æ®:", test_data)

# ç­›é€‰å¤§äºç­‰äº85åˆ†çš„æˆç»©
high_scores = process_data(test_data, filter_func=lambda x: x >= 85)
print("é«˜åˆ†(>=85):", high_scores)

# å°†åˆ†æ•°è½¬æ¢ä¸ºç­‰çº§
def score_to_grade(score):
    if score >= 90:
        return "A"
    elif score >= 80:
        return "B"
    elif score >= 70:
        return "C"
    else:
        return "D"

grades = process_data(test_data, map_func=score_to_grade)
print("ç­‰çº§è½¬æ¢:", grades)

# ç»„åˆæ“ä½œï¼šç­›é€‰é«˜åˆ†å¹¶è½¬æ¢ä¸ºç­‰çº§
high_grades = process_data(
    test_data, 
    filter_func=lambda x: x >= 85,
    map_func=score_to_grade
)
print("é«˜åˆ†ç­‰çº§:", high_grades)</code></pre>
                        </div>
                    </section>

                    <!-- ç« èŠ‚æ€»ç»“ -->
                    <section class="mb-4">
                        <div class="card bg-light">
                            <div class="card-header">
                                <h5>ğŸ“‹ æœ¬ç« æ€»ç»“</h5>
                            </div>
                            <div class="card-body">
                                <ul>
                                    <li>å‡½æ•°æ˜¯ä»£ç çš„åŸºæœ¬ç»„ç»‡å•å…ƒï¼Œæé«˜ä»£ç é‡ç”¨æ€§</li>
                                    <li>å‚æ•°ç±»å‹ï¼šä½ç½®å‚æ•°ã€å…³é”®å­—å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°</li>
                                    <li>ç†è§£å…¨å±€ä½œç”¨åŸŸå’Œå±€éƒ¨ä½œç”¨åŸŸçš„åŒºåˆ«</li>
                                    <li>Lambdaå‡½æ•°ç”¨äºåˆ›å»ºç®€çŸ­çš„åŒ¿åå‡½æ•°</li>
                                    <li>è£…é¥°å™¨å¯ä»¥ä¸ºå‡½æ•°æ·»åŠ é¢å¤–åŠŸèƒ½</li>
                                    <li>è‰¯å¥½çš„å‡½æ•°è®¾è®¡ï¼šåŠŸèƒ½å•ä¸€ã€å‘½åæ¸…æ™°ã€æ–‡æ¡£å®Œæ•´</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- å¯¼èˆªæŒ‰é’® -->
                    <div class="d-flex justify-content-between mb-4">
                        <a href="chapter6.html" class="btn btn-outline-primary">â† ä¸Šä¸€ç« ï¼šå­—å…¸ä¸é›†åˆ</a>
                        <a href="chapter8.html" class="btn btn-primary">ä¸‹ä¸€ç« ï¼šæ¨¡å—ä¸åŒ… â†’</a>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    <script src="../assets/js/thebe-config.js"></script>
</body>
</html>
