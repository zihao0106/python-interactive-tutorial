<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬8ç« ï¼šæ¨¡å—ä¸åŒ… - Pythonç¼–ç¨‹æ•™ç¨‹</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container">
            <a class="navbar-brand" href="../index.html">ğŸ Pythonæ•™ç¨‹</a>
            <div class="navbar-nav ms-auto">
                <span class="navbar-text me-3">
                    <span class="python-status">PythonçŠ¶æ€: <span id="python-status">å‡†å¤‡ä¸­...</span></span>
                </span>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-5 pt-3">
        <div class="row">
            <div class="col-md-3">
                <div class="sidebar">
                    <div class="sidebar-sticky">
                        <div class="sidebar-content">
                            <nav class="nav flex-column">
                                <a class="nav-link" href="chapter1.html">ç¬¬1ç« ï¼šPythonç®€ä»‹</a>
                                <a class="nav-link" href="chapter2.html">ç¬¬2ç« ï¼šå˜é‡ä¸æ•°æ®ç±»å‹</a>
                                <a class="nav-link" href="chapter3.html">ç¬¬3ç« ï¼šè¿ç®—ç¬¦</a>
                                <a class="nav-link" href="chapter4.html">ç¬¬4ç« ï¼šæ§åˆ¶ç»“æ„</a>
                                <a class="nav-link" href="chapter5.html">ç¬¬5ç« ï¼šåˆ—è¡¨ä¸å…ƒç»„</a>
                                <a class="nav-link" href="chapter6.html">ç¬¬6ç« ï¼šå­—å…¸ä¸é›†åˆ</a>
                                <a class="nav-link" href="chapter7.html">ç¬¬7ç« ï¼šå‡½æ•°</a>
                                <a class="nav-link active" href="chapter8.html">ç¬¬8ç« ï¼šæ¨¡å—ä¸åŒ…</a>
                                <a class="nav-link" href="chapter9.html">ç¬¬9ç« ï¼šå­—ç¬¦ä¸²å¤„ç†</a>
                                <a class="nav-link" href="chapter10.html">ç¬¬10ç« ï¼šæ­£åˆ™è¡¨è¾¾å¼</a>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-9">
                <main>
                    <h1>ç¬¬8ç« ï¼šæ¨¡å—ä¸åŒ…</h1>

                    <!-- å­¦ä¹ ç›®æ ‡ -->
                    <section class="mb-4">
                        <div class="card bg-light">
                            <div class="card-header">
                                <h5>ğŸ¯ å­¦ä¹ ç›®æ ‡</h5>
                            </div>
                            <div class="card-body">
                                <ul>
                                    <li>ç†è§£æ¨¡å—å’ŒåŒ…çš„æ¦‚å¿µ</li>
                                    <li>æŒæ¡æ¨¡å—çš„å¯¼å…¥å’Œä½¿ç”¨</li>
                                    <li>å­¦ä¼šåˆ›å»ºè‡ªå®šä¹‰æ¨¡å—</li>
                                    <li>äº†è§£å¸¸ç”¨çš„æ ‡å‡†åº“æ¨¡å—</li>
                                    <li>å­¦ä¹ åŒ…çš„ç»„ç»‡å’Œç®¡ç†</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- çŸ¥è¯†ç‚¹1ï¼šæ¨¡å—åŸºç¡€ -->
                    <section class="mb-4">
                        <h2>ğŸ“š æ¨¡å—åŸºç¡€</h2>
                        <p>æ¨¡å—æ˜¯åŒ…å«Pythonä»£ç çš„æ–‡ä»¶ï¼Œå¯ä»¥å®šä¹‰å‡½æ•°ã€ç±»å’Œå˜é‡ã€‚æ¨¡å—è®©æˆ‘ä»¬èƒ½å¤Ÿç»„ç»‡ä»£ç å¹¶é‡ç”¨åŠŸèƒ½ã€‚</p>

                        <h3>å¯¼å…¥æ¨¡å—</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» å¯¼å…¥æ¨¡å—</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python"># å¯¼å…¥æ•´ä¸ªæ¨¡å—
import math
print(f"Ï€çš„å€¼: {math.pi}")
print(f"10çš„å¹³æ–¹æ ¹: {math.sqrt(10)}")

# å¯¼å…¥ç‰¹å®šå‡½æ•°
from math import sin, cos, pi
print(f"sin(Ï€/2): {sin(pi/2)}")
print(f"cos(Ï€): {cos(pi)}")

# ä½¿ç”¨åˆ«åå¯¼å…¥
import datetime as dt
now = dt.datetime.now()
print(f"å½“å‰æ—¶é—´: {now.strftime('%Y-%m-%d %H:%M:%S')}")

# å¯¼å…¥æ‰€æœ‰å†…å®¹ï¼ˆä¸æ¨èï¼‰
from random import *
print(f"éšæœºæ•°: {randint(1, 100)}")

# æŸ¥çœ‹æ¨¡å—çš„æ‰€æœ‰å±æ€§
import sys
print(f"Pythonç‰ˆæœ¬: {sys.version}")
print(f"æ¨¡å—æœç´¢è·¯å¾„æ•°é‡: {len(sys.path)}")</code></pre>
                        </div>
                    </section>

                    <!-- çŸ¥è¯†ç‚¹2ï¼šå¸¸ç”¨æ ‡å‡†åº“æ¨¡å— -->
                    <section class="mb-4">
                        <h2>ğŸ”§ å¸¸ç”¨æ ‡å‡†åº“æ¨¡å—</h2>
                        
                        <h3>datetime - æ—¥æœŸæ—¶é—´å¤„ç†</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» datetimeæ¨¡å—</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python">from datetime import datetime, date, timedelta

# è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´
now = datetime.now()
today = date.today()

print(f"å½“å‰æ—¥æœŸæ—¶é—´: {now}")
print(f"ä»Šå¤©çš„æ—¥æœŸ: {today}")

# æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´
formatted_date = now.strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M:%S")
print(f"æ ¼å¼åŒ–æ—¥æœŸ: {formatted_date}")

# æ—¥æœŸè¿ç®—
tomorrow = today + timedelta(days=1)
last_week = today - timedelta(weeks=1)

print(f"æ˜å¤©: {tomorrow}")
print(f"ä¸€å‘¨å‰: {last_week}")

# åˆ›å»ºç‰¹å®šæ—¥æœŸ
birthday = date(2000, 1, 1)
age_days = (today - birthday).days
print(f"ä»2000å¹´1æœˆ1æ—¥åˆ°ä»Šå¤©å·²ç»è¿‡äº† {age_days} å¤©")

# è§£ææ—¥æœŸå­—ç¬¦ä¸²
date_string = "2023-12-25"
parsed_date = datetime.strptime(date_string, "%Y-%m-%d")
print(f"è§£æçš„æ—¥æœŸ: {parsed_date.date()}")</code></pre>
                        </div>

                        <h3>random - éšæœºæ•°ç”Ÿæˆ</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» randomæ¨¡å—</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python">import random

# ç”Ÿæˆéšæœºæ•°
print(f"0-1ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°: {random.random()}")
print(f"1-100ä¹‹é—´çš„éšæœºæ•´æ•°: {random.randint(1, 100)}")
print(f"0-10ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°: {random.uniform(0, 10)}")

# ä»åºåˆ—ä¸­éšæœºé€‰æ‹©
colors = ["çº¢", "ç»¿", "è“", "é»„", "ç´«"]
print(f"éšæœºé¢œè‰²: {random.choice(colors)}")

# éšæœºæŠ½æ ·
sample_colors = random.sample(colors, 3)
print(f"éšæœºæŠ½å–3ç§é¢œè‰²: {sample_colors}")

# æ‰“ä¹±åˆ—è¡¨
numbers = list(range(1, 11))
print(f"åŸå§‹åˆ—è¡¨: {numbers}")
random.shuffle(numbers)
print(f"æ‰“ä¹±å: {numbers}")

# è®¾ç½®éšæœºç§å­ï¼ˆç”¨äºé‡ç°ç»“æœï¼‰
random.seed(42)
print(f"è®¾ç½®ç§å­åçš„éšæœºæ•°: {random.randint(1, 100)}")

# æ¨¡æ‹Ÿæ·éª°å­
def roll_dice():
    return random.randint(1, 6)

print("\næ·éª°å­5æ¬¡:")
for i in range(5):
    print(f"ç¬¬{i+1}æ¬¡: {roll_dice()}")</code></pre>
                        </div>

                        <h3>oså’Œpathlib - æ–‡ä»¶ç³»ç»Ÿæ“ä½œ</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» æ–‡ä»¶ç³»ç»Ÿæ“ä½œ</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python">import os
from pathlib import Path

# è·å–å½“å‰ç›®å½•ä¿¡æ¯
current_dir = os.getcwd()
print(f"å½“å‰å·¥ä½œç›®å½•: {current_dir}")

# ç¯å¢ƒå˜é‡
home_dir = os.path.expanduser("~")
print(f"ç”¨æˆ·ä¸»ç›®å½•: {home_dir}")

# è·¯å¾„æ“ä½œ
file_path = os.path.join("folder", "subfolder", "file.txt")
print(f"æ„é€ çš„è·¯å¾„: {file_path}")

# ä½¿ç”¨pathlibï¼ˆæ¨èçš„ç°ä»£æ–¹å¼ï¼‰
current_path = Path.cwd()
print(f"å½“å‰è·¯å¾„ï¼ˆpathlibï¼‰: {current_path}")

# è·¯å¾„ç»„åˆå’Œå±æ€§
demo_file = current_path / "demo.txt"
print(f"æ–‡ä»¶è·¯å¾„: {demo_file}")
print(f"æ–‡ä»¶å: {demo_file.name}")
print(f"çˆ¶ç›®å½•: {demo_file.parent}")
print(f"æ–‡ä»¶æ‰©å±•å: {demo_file.suffix}")

# æ£€æŸ¥è·¯å¾„
print(f"è·¯å¾„æ˜¯å¦å­˜åœ¨: {demo_file.exists()}")
print(f"æ˜¯å¦ä¸ºæ–‡ä»¶: {demo_file.is_file()}")
print(f"æ˜¯å¦ä¸ºç›®å½•: {demo_file.is_dir()}")

# åˆ—å‡ºç›®å½•å†…å®¹
print(f"\nå½“å‰ç›®å½•çš„å‰5ä¸ªé¡¹ç›®:")
items = list(current_path.iterdir())[:5]
for item in items:
    item_type = "ç›®å½•" if item.is_dir() else "æ–‡ä»¶"
    print(f"  {item.name} ({item_type})")</code></pre>
                        </div>
                    </section>

                    <!-- çŸ¥è¯†ç‚¹3ï¼šåˆ›å»ºè‡ªå®šä¹‰æ¨¡å— -->
                    <section class="mb-4">
                        <h2>ğŸ› ï¸ åˆ›å»ºè‡ªå®šä¹‰æ¨¡å—</h2>
                        <p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±çš„æ¨¡å—æ¥ç»„ç»‡ä»£ç ã€‚ä¸‹é¢æ¼”ç¤ºå¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨è‡ªå®šä¹‰æ¨¡å—ã€‚</p>
                        
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» æ¨¡æ‹Ÿè‡ªå®šä¹‰æ¨¡å—</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python"># æ¨¡æ‹Ÿåˆ›å»ºä¸€ä¸ªæ•°å­¦å·¥å…·æ¨¡å—çš„å†…å®¹
# åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™äº›ä¼šæ”¾åœ¨å•ç‹¬çš„.pyæ–‡ä»¶ä¸­

# ============ math_utils.py æ¨¡å—å†…å®¹ ============
def add(a, b):
    """åŠ æ³•å‡½æ•°"""
    return a + b

def multiply(a, b):
    """ä¹˜æ³•å‡½æ•°"""
    return a * b

def factorial(n):
    """è®¡ç®—é˜¶ä¹˜"""
    if n <= 1:
        return 1
    return n * factorial(n - 1)

def is_prime(n):
    """æ£€æŸ¥æ˜¯å¦ä¸ºè´¨æ•°"""
    if n < 2:
        return False
    for i in range(2, int(n ** 0.5) + 1):
        if n % i == 0:
            return False
    return True

# æ¨¡å—çº§å˜é‡
PI = 3.14159
VERSION = "1.0.0"

# æ¨¡å—åˆå§‹åŒ–ä»£ç 
print(f"æ•°å­¦å·¥å…·æ¨¡å— v{VERSION} å·²åŠ è½½")

# ============ ä½¿ç”¨æ¨¡å— ============
# åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œä½ ä¼šè¿™æ ·å¯¼å…¥ï¼š
# from math_utils import add, factorial, is_prime

# æµ‹è¯•æ¨¡å—åŠŸèƒ½
print(f"5 + 3 = {add(5, 3)}")
print(f"4 * 6 = {multiply(4, 6)}")
print(f"5! = {factorial(5)}")
print(f"17æ˜¯è´¨æ•°å—ï¼Ÿ {is_prime(17)}")
print(f"æ¨¡å—ä¸­çš„Ï€å€¼: {PI}")

# æ‰¹é‡æµ‹è¯•è´¨æ•°
numbers = [2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
primes = [n for n in numbers if is_prime(n)]
print(f"1-11ä¸­çš„è´¨æ•°: {primes}")</code></pre>
                        </div>

                        <div class="alert alert-info">
                            <h6>ğŸ“ åˆ›å»ºæ¨¡å—æ–‡ä»¶çš„æ­¥éª¤ï¼š</h6>
                            <ol>
                                <li>åˆ›å»ºä¸€ä¸ª<code>.py</code>æ–‡ä»¶ï¼Œå¦‚<code>math_utils.py</code></li>
                                <li>åœ¨æ–‡ä»¶ä¸­å®šä¹‰å‡½æ•°ã€ç±»å’Œå˜é‡</li>
                                <li>åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨<code>import math_utils</code>å¯¼å…¥</li>
                                <li>æˆ–ä½¿ç”¨<code>from math_utils import add, factorial</code>å¯¼å…¥ç‰¹å®šå†…å®¹</li>
                            </ol>
                        </div>
                    </section>

                    <!-- çŸ¥è¯†ç‚¹4ï¼šåŒ…çš„æ¦‚å¿µ -->
                    <section class="mb-4">
                        <h2>ğŸ“¦ åŒ…çš„æ¦‚å¿µ</h2>
                        <p>åŒ…æ˜¯åŒ…å«å¤šä¸ªæ¨¡å—çš„ç›®å½•ã€‚åŒ…ä½¿ç”¨<code>__init__.py</code>æ–‡ä»¶æ¥æ ‡è¯†ã€‚</p>
                        
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» åŒ…çš„ç»“æ„ç¤ºä¾‹</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python"># åŒ…çš„ç›®å½•ç»“æ„ç¤ºä¾‹ï¼š
# mypackage/
#     __init__.py
#     math_utils.py
#     string_utils.py
#     data/
#         __init__.py
#         processing.py

# æ¨¡æ‹ŸåŒ…çš„å¯¼å…¥å’Œä½¿ç”¨
print("åŒ…ç»“æ„ç¤ºä¾‹ï¼š")
print("""
mypackage/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ math_utils.py
â”œâ”€â”€ string_utils.py
â””â”€â”€ data/
    â”œâ”€â”€ __init__.py
    â””â”€â”€ processing.py
""")

# ============ mypackage/__init__.py ============
# è¿™ä¸ªæ–‡ä»¶è®©PythonçŸ¥é“è¿™æ˜¯ä¸€ä¸ªåŒ…
# å¯ä»¥åœ¨è¿™é‡Œå¯¼å…¥å­æ¨¡å—ï¼Œæ–¹ä¾¿ä½¿ç”¨

__version__ = "1.0.0"
__author__ = "Your Name"

# ä»å­æ¨¡å—å¯¼å…¥å¸¸ç”¨åŠŸèƒ½
# from .math_utils import add, multiply
# from .string_utils import capitalize_words

print(f"æˆ‘çš„åŒ…å·²åˆå§‹åŒ–ï¼Œç‰ˆæœ¬: {__version__}")

# ============ æ¨¡æ‹Ÿä½¿ç”¨åŒ… ============
# å®é™…ä½¿ç”¨æ–¹å¼ï¼š
# import mypackage
# from mypackage import math_utils
# from mypackage.data import processing

# æ˜¾ç¤ºåŒ…çš„ä½¿ç”¨æ–¹å¼
print("\nåŒ…çš„å¯¼å…¥æ–¹å¼ï¼š")
print("1. import mypackage")
print("2. from mypackage import math_utils")
print("3. from mypackage.math_utils import add")
print("4. from mypackage.data import processing")

# æ¨¡æ‹Ÿå­—ç¬¦ä¸²å·¥å…·æ¨¡å—
def capitalize_words(text):
    """å°†æ–‡æœ¬ä¸­æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™"""
    return ' '.join(word.capitalize() for word in text.split())

def reverse_words(text):
    """åè½¬æ–‡æœ¬ä¸­çš„å•è¯é¡ºåº"""
    return ' '.join(text.split()[::-1])

# æµ‹è¯•å­—ç¬¦ä¸²å·¥å…·
test_text = "hello world python programming"
print(f"\nåŸæ–‡æœ¬: {test_text}")
print(f"é¦–å­—æ¯å¤§å†™: {capitalize_words(test_text)}")
print(f"åè½¬å•è¯: {reverse_words(test_text)}")</code></pre>
                        </div>
                    </section>

                    <!-- çŸ¥è¯†ç‚¹5ï¼šæ¨¡å—æœç´¢è·¯å¾„ -->
                    <section class="mb-4">
                        <h2>ğŸ” æ¨¡å—æœç´¢è·¯å¾„</h2>
                        
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» æ¨¡å—æœç´¢è·¯å¾„</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python">import sys
import os

# æŸ¥çœ‹æ¨¡å—æœç´¢è·¯å¾„
print("Pythonæ¨¡å—æœç´¢è·¯å¾„ï¼š")
for i, path in enumerate(sys.path[:5], 1):  # åªæ˜¾ç¤ºå‰5ä¸ª
    print(f"{i}. {path}")

if len(sys.path) > 5:
    print(f"... è¿˜æœ‰ {len(sys.path) - 5} ä¸ªè·¯å¾„")

# æŸ¥çœ‹å·²åŠ è½½çš„æ¨¡å—
loaded_modules = list(sys.modules.keys())
print(f"\nå·²åŠ è½½çš„æ¨¡å—æ•°é‡: {len(loaded_modules)}")
print("éƒ¨åˆ†å·²åŠ è½½çš„æ¨¡å—:")
for module in sorted(loaded_modules)[:10]:
    print(f"  {module}")

# åŠ¨æ€æ·»åŠ æ¨¡å—è·¯å¾„ï¼ˆæ¼”ç¤ºç”¨ï¼‰
# å®é™…é¡¹ç›®ä¸­éœ€è¦è°¨æ…ä½¿ç”¨
current_dir = os.getcwd()
if current_dir not in sys.path:
    print(f"\nå½“å‰ç›®å½•å·²åœ¨æœç´¢è·¯å¾„ä¸­")
else:
    print(f"\nå½“å‰ç›®å½•ä¸åœ¨æœç´¢è·¯å¾„ä¸­")

# æŸ¥çœ‹å†…ç½®æ¨¡å—
print(f"\nå†…ç½®æ¨¡å—æ•°é‡: {len(sys.builtin_module_names)}")
print("éƒ¨åˆ†å†…ç½®æ¨¡å—:")
for module in list(sys.builtin_module_names)[:10]:
    print(f"  {module}")

# è·å–æ¨¡å—ä¿¡æ¯
import math
print(f"\nmathæ¨¡å—ä¿¡æ¯:")
print(f"  æ¨¡å—å: {math.__name__}")
print(f"  æ¨¡å—æ–‡ä»¶: {getattr(math, '__file__', 'å†…ç½®æ¨¡å—')}")

# dir()å‡½æ•° - æŸ¥çœ‹æ¨¡å—çš„å±æ€§
math_attrs = [attr for attr in dir(math) if not attr.startswith('_')]
print(f"  mathæ¨¡å—çš„éƒ¨åˆ†åŠŸèƒ½: {math_attrs[:10]}")</code></pre>
                        </div>
                    </section>

                    <!-- å®è·µç»ƒä¹  -->
                    <section class="mb-4">
                        <h2>ğŸ’» å®è·µç»ƒä¹ </h2>
                        
                        <h3>ç»ƒä¹ 1ï¼šæ—¶é—´å·¥å…·æ¨¡å—</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» æ—¶é—´å·¥å…·æ¨¡å—</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python">import time
from datetime import datetime, timedelta

# åˆ›å»ºä¸€ä¸ªæ—¶é—´å·¥å…·æ¨¡å—
class TimeUtils:
    """æ—¶é—´å·¥å…·ç±»"""
    
    @staticmethod
    def current_timestamp():
        """è·å–å½“å‰æ—¶é—´æˆ³"""
        return time.time()
    
    @staticmethod
    def format_timestamp(timestamp, fmt="%Y-%m-%d %H:%M:%S"):
        """æ ¼å¼åŒ–æ—¶é—´æˆ³"""
        return datetime.fromtimestamp(timestamp).strftime(fmt)
    
    @staticmethod
    def time_difference(start_time, end_time, unit="seconds"):
        """è®¡ç®—æ—¶é—´å·®"""
        diff = end_time - start_time
        
        if unit == "seconds":
            return diff
        elif unit == "minutes":
            return diff / 60
        elif unit == "hours":
            return diff / 3600
        elif unit == "days":
            return diff / 86400
        else:
            return diff
    
    @staticmethod
    def add_time(base_time, **kwargs):
        """ç»™æ—¶é—´æ·»åŠ æ—¶é—´é—´éš”"""
        if isinstance(base_time, str):
            base_time = datetime.strptime(base_time, "%Y-%m-%d %H:%M:%S")
        elif isinstance(base_time, (int, float)):
            base_time = datetime.fromtimestamp(base_time)
        
        return base_time + timedelta(**kwargs)
    
    @staticmethod
    def is_weekend(date_input):
        """æ£€æŸ¥æ˜¯å¦ä¸ºå‘¨æœ«"""
        if isinstance(date_input, str):
            date_obj = datetime.strptime(date_input, "%Y-%m-%d")
        elif isinstance(date_input, datetime):
            date_obj = date_input
        else:
            return False
        
        return date_obj.weekday() >= 5  # 5æ˜¯å‘¨å…­ï¼Œ6æ˜¯å‘¨æ—¥

# æµ‹è¯•æ—¶é—´å·¥å…·
print("æ—¶é—´å·¥å…·æµ‹è¯•ï¼š")

# å½“å‰æ—¶é—´æˆ³
current_ts = TimeUtils.current_timestamp()
print(f"å½“å‰æ—¶é—´æˆ³: {current_ts}")

# æ ¼å¼åŒ–æ—¶é—´æˆ³
formatted = TimeUtils.format_timestamp(current_ts)
print(f"æ ¼å¼åŒ–æ—¶é—´: {formatted}")

# è®¡ç®—æ—¶é—´å·®
start_time = current_ts - 3600  # 1å°æ—¶å‰
time_diff = TimeUtils.time_difference(start_time, current_ts, "hours")
print(f"æ—¶é—´å·®: {time_diff:.2f}å°æ—¶")

# æ·»åŠ æ—¶é—´
future_time = TimeUtils.add_time(current_ts, days=7, hours=3)
print(f"7å¤©3å°æ—¶å: {future_time.strftime('%Y-%m-%d %H:%M:%S')}")

# æ£€æŸ¥å‘¨æœ«
test_dates = ["2023-12-23", "2023-12-24", "2023-12-25"]  # å‘¨å…­ã€å‘¨æ—¥ã€å‘¨ä¸€
for date_str in test_dates:
    is_weekend = TimeUtils.is_weekend(date_str)
    weekday = datetime.strptime(date_str, "%Y-%m-%d").strftime("%A")
    print(f"{date_str} ({weekday}): {'æ˜¯' if is_weekend else 'ä¸æ˜¯'}å‘¨æœ«")</code></pre>
                        </div>

                        <h3>ç»ƒä¹ 2ï¼šæ–‡ä»¶å¤„ç†æ¨¡å—</h3>
                        <div class="code-example">
                            <div class="code-header">
                                <span>ğŸ’» æ–‡ä»¶å¤„ç†æ¨¡å—</span>
                                <button class="btn btn-sm btn-primary run-code">è¿è¡Œä»£ç </button>
                            </div>
                            <pre><code class="language-python">import os
import json
from pathlib import Path

class FileUtils:
    """æ–‡ä»¶å¤„ç†å·¥å…·ç±»"""
    
    @staticmethod
    def get_file_info(file_path):
        """è·å–æ–‡ä»¶ä¿¡æ¯"""
        path = Path(file_path)
        if not path.exists():
            return None
        
        stat = path.stat()
        return {
            "name": path.name,
            "size": stat.st_size,
            "created": stat.st_ctime,
            "modified": stat.st_mtime,
            "is_file": path.is_file(),
            "is_dir": path.is_dir(),
            "extension": path.suffix
        }
    
    @staticmethod
    def list_files(directory, pattern="*", recursive=False):
        """åˆ—å‡ºç›®å½•ä¸­çš„æ–‡ä»¶"""
        path = Path(directory)
        if not path.exists():
            return []
        
        if recursive:
            return list(path.rglob(pattern))
        else:
            return list(path.glob(pattern))
    
    @staticmethod
    def create_demo_files():
        """åˆ›å»ºæ¼”ç¤ºæ–‡ä»¶"""
        demo_data = {
            "students": [
                {"name": "å¼ ä¸‰", "age": 20, "score": 85},
                {"name": "æå››", "age": 21, "score": 92},
                {"name": "ç‹äº”", "age": 19, "score": 78}
            ],
            "timestamp": TimeUtils.current_timestamp()
        }
        return demo_data
    
    @staticmethod
    def safe_filename(filename):
        """åˆ›å»ºå®‰å…¨çš„æ–‡ä»¶å"""
        # ç§»é™¤æˆ–æ›¿æ¢ä¸å®‰å…¨çš„å­—ç¬¦
        unsafe_chars = '<>:"/\\|?*'
        safe_name = filename
        for char in unsafe_chars:
            safe_name = safe_name.replace(char, '_')
        return safe_name
    
    @staticmethod
    def get_file_extension(filename):
        """è·å–æ–‡ä»¶æ‰©å±•å"""
        return Path(filename).suffix.lower()
    
    @staticmethod
    def change_extension(filename, new_ext):
        """ä¿®æ”¹æ–‡ä»¶æ‰©å±•å"""
        path = Path(filename)
        return str(path.with_suffix(new_ext))

# æµ‹è¯•æ–‡ä»¶å·¥å…·
print("æ–‡ä»¶å·¥å…·æµ‹è¯•ï¼š")

# åˆ›å»ºæ¼”ç¤ºæ•°æ®
demo_data = FileUtils.create_demo_files()
print("æ¼”ç¤ºæ•°æ®:", demo_data)

# æµ‹è¯•å®‰å…¨æ–‡ä»¶å
unsafe_name = "æˆ‘çš„æ–‡ä»¶<>?.txt"
safe_name = FileUtils.safe_filename(unsafe_name)
print(f"ä¸å®‰å…¨çš„æ–‡ä»¶å: {unsafe_name}")
print(f"å®‰å…¨çš„æ–‡ä»¶å: {safe_name}")

# æµ‹è¯•æ–‡ä»¶æ‰©å±•å
test_files = ["document.pdf", "image.PNG", "script.py", "data.json"]
for filename in test_files:
    ext = FileUtils.get_file_extension(filename)
    new_name = FileUtils.change_extension(filename, ".bak")
    print(f"{filename} -> æ‰©å±•å: {ext}, å¤‡ä»½å: {new_name}")

# è·å–å½“å‰ç›®å½•ä¿¡æ¯
current_dir = Path.cwd()
print(f"\nå½“å‰ç›®å½•: {current_dir}")

# æ¼”ç¤ºæ–‡ä»¶æ“ä½œï¼ˆä¸å®é™…åˆ›å»ºæ–‡ä»¶ï¼‰
print("\næ–‡ä»¶æ“ä½œæ¼”ç¤ºï¼ˆæ¨¡æ‹Ÿï¼‰:")
demo_files = ["config.json", "data.csv", "report.pdf", "script.py"]
for filename in demo_files:
    print(f"  {filename} - æ‰©å±•å: {FileUtils.get_file_extension(filename)}")

print("\næ¨¡å—å­¦ä¹ æ€»ç»“:")
print("âœ“ å­¦ä¼šäº†å¯¼å…¥å’Œä½¿ç”¨æ ‡å‡†åº“æ¨¡å—")
print("âœ“ æŒæ¡äº†åˆ›å»ºè‡ªå®šä¹‰æ¨¡å—çš„æ–¹æ³•")
print("âœ“ ç†è§£äº†åŒ…çš„ç»„ç»‡ç»“æ„")
print("âœ“ å­¦ä¼šäº†æ¨¡å—æœç´¢è·¯å¾„çš„æ¦‚å¿µ")</code></pre>
                        </div>
                    </section>

                    <!-- ç« èŠ‚æ€»ç»“ -->
                    <section class="mb-4">
                        <div class="card bg-light">
                            <div class="card-header">
                                <h5>ğŸ“‹ æœ¬ç« æ€»ç»“</h5>
                            </div>
                            <div class="card-body">
                                <ul>
                                    <li>æ¨¡å—æ˜¯ç»„ç»‡Pythonä»£ç çš„åŸºæœ¬å•ä½</li>
                                    <li>æ ‡å‡†åº“æä¾›äº†ä¸°å¯Œçš„æ¨¡å—ï¼šmathã€datetimeã€randomã€osç­‰</li>
                                    <li>å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰æ¨¡å—æ¥é‡ç”¨ä»£ç </li>
                                    <li>åŒ…æ˜¯åŒ…å«å¤šä¸ªæ¨¡å—çš„ç›®å½•ç»“æ„</li>
                                    <li>ç†è§£æ¨¡å—æœç´¢è·¯å¾„æœ‰åŠ©äºè§£å†³å¯¼å…¥é—®é¢˜</li>
                                    <li>è‰¯å¥½çš„æ¨¡å—è®¾è®¡æé«˜ä»£ç å¯ç»´æŠ¤æ€§</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- å¯¼èˆªæŒ‰é’® -->
                    <div class="d-flex justify-content-between mb-4">
                        <a href="chapter7.html" class="btn btn-outline-primary">â† ä¸Šä¸€ç« ï¼šå‡½æ•°</a>
                        <a href="chapter9.html" class="btn btn-primary">ä¸‹ä¸€ç« ï¼šå­—ç¬¦ä¸²å¤„ç† â†’</a>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    <script src="../assets/js/thebe-config.js"></script>
</body>
</html>
