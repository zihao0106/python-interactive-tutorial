<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pythonäº¤äº’å¼æ•™ç¨‹</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css?v=20250904">
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                ğŸ Pythonäº¤äº’å¼æ•™ç¨‹
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="chapters/chapter1.html">
                    ğŸ“š æ•™ç¨‹
                </a>
                <a class="nav-link" href="python-editor.html">
                    âš¡ å¿«é€Ÿç¼–ç¨‹
                </a>
                <a class="nav-link" href="./lite/lab/index.html" target="_blank">
                    ğŸš€ JupyterLite
                </a>
            </div>
        </div>
    </nav>

    <div class="hero-section">
        <div class="container">
            <div class="row align-items-center min-vh-100">
                <div class="col-lg-6">
                    <h1 class="display-4 fw-bold">ğŸ Python äº¤äº’å¼ç¼–ç¨‹æ•™ç¨‹</h1>
                    <p class="lead">è¾¹å­¦è¾¹ç»ƒï¼Œåœ¨æµè§ˆå™¨ä¸­ç›´æ¥è¿è¡Œä»£ç ï¼ŒæŒæ¡Pythonç¼–ç¨‹ç²¾é«“</p>
                    
                    <div class="features mb-4">
                        <div class="feature-item">
                            <span class="badge bg-primary me-2">âœ¨</span>
                            <strong>äº¤äº’å¼å­¦ä¹ </strong> - ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œä»£ç 
                        </div>
                        <div class="feature-item">
                            <span class="badge bg-success me-2">ğŸš€</span>
                            <strong>æ— éœ€å®‰è£…</strong> - åŸºäºWebAssemblyæŠ€æœ¯
                        </div>
                        <div class="feature-item">
                            <span class="badge bg-info me-2">ğŸ“±</span>
                            <strong>éšæ—¶éšåœ°</strong> - æ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨
                        </div>
                    </div>
                    
                    <!-- ç¯å¢ƒé€‰æ‹©è¯´æ˜ -->
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card bg-success bg-opacity-10 border-success">
                                <div class="card-body text-center p-3">
                                    <h6 class="text-success mb-2">âš¡ å¿«é€Ÿç¼–ç¨‹ç¯å¢ƒ</h6>
                                    <small class="text-light">ç§’çº§å¯åŠ¨ â€¢ åŸºç¡€åŠŸèƒ½ â€¢ é€‚åˆå­¦ä¹ </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card bg-info bg-opacity-10 border-info">
                                <div class="card-body text-center p-3">
                                    <h6 class="text-info mb-2">ğŸš€ å®Œæ•´ç¯å¢ƒ</h6>
                                    <small class="text-light">éœ€è¦ç­‰å¾… â€¢ å®Œæ•´åŠŸèƒ½ â€¢ é€‚åˆé¡¹ç›®</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="d-grid gap-2">
                        <a href="chapters/chapter1.html" class="btn btn-primary btn-lg">
                            ğŸ“š å¼€å§‹å­¦ä¹ æ•™ç¨‹
                        </a>
                        <div class="row g-2 mt-2">
                            <div class="col-md-6">
                                <a href="python-editor.html" class="btn btn-success btn-lg w-100">
                                    âš¡ å¿«é€Ÿç¼–ç¨‹ç¯å¢ƒ
                                </a>
                            </div>
                            <div class="col-md-6">
                                <div class="d-grid gap-1">
                                    <a href="./lite/lab/index.html" target="_blank" class="btn btn-outline-light btn-lg">
                                        ğŸš€ å®Œæ•´JupyterLite
                                    </a>
                                    <small class="text-light">ç‚¹å‡»ç›´æ¥è®¿é—®</small>
                                </div>
                            </div>
                        </div>
                        <small class="text-light mt-2 d-block text-center">
                            ğŸ’¡ å»ºè®®åˆå­¦è€…é€‰æ‹©"å¿«é€Ÿç¼–ç¨‹ç¯å¢ƒ"
                        </small>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="demo-code-block" style="color: #333 !important;">
                        <div class="code-header">
                            <span class="code-title">ğŸ’¡ ä½“éªŒäº¤äº’å¼ç¼–ç¨‹</span>
                            <div>
                                <button class="btn btn-sm btn-success run-demo-btn" id="runDemoBtn">
                                    â–¶ï¸ è¿è¡Œä»£ç 
                                </button>
                                <button class="btn btn-sm btn-outline-light copy-demo-btn ms-1" title="å¤åˆ¶ä»£ç ">
                                    ğŸ“‹ å¤åˆ¶
                                </button>
                            </div>
                        </div>
                        <pre style="background: #f8f8f8 !important; color: #333 !important; padding: 1rem; margin: 0;"><code class="language-python" style="color: #333 !important; font-family: 'Consolas', 'Monaco', 'Courier New', monospace;" id="demoCode"># ğŸ Python äº¤äº’å¼æ¼”ç¤º
import datetime

print("=" * 40)
print("ğŸ‰ æ¬¢è¿æ¥åˆ°Pythonäº¤äº’å¼ä¸–ç•Œï¼")
print("=" * 40)

# åŸºæœ¬å˜é‡å’Œå­—ç¬¦ä¸²
name = "Pythonå­¦ä¹ è€…"
current_time = datetime.datetime.now().strftime("%Y-%m-%d %H:%M")
print(f"ğŸ‘‹ ä½ å¥½ï¼Œ{name}ï¼")
print(f"ğŸ“… å½“å‰æ—¶é—´ï¼š{current_time}")

# åˆ—è¡¨å’Œå¾ªç¯æ“ä½œ
skills = ["å˜é‡æ“ä½œ", "æ¡ä»¶åˆ¤æ–­", "å¾ªç¯æ§åˆ¶", "å‡½æ•°å®šä¹‰"]
print(f"\nğŸ“š ä½ å°†æŒæ¡çš„PythonæŠ€èƒ½ï¼š")
for i, skill in enumerate(skills, 1):
    print(f"  {i}. {skill}")

# æ•°å­¦è®¡ç®—æ¼”ç¤º
print(f"\nğŸ”¢ æ•°å­¦è®¡ç®—æ¼”ç¤ºï¼š")
numbers = [1, 2, 3, 4, 5]
squares = [n**2 for n in numbers]
print(f"åŸæ•°åˆ—: {numbers}")
print(f"å¹³æ–¹æ•°: {squares}")
print(f"æ€»å’Œ: {sum(squares)}")

print(f"\nâœ¨ è¿™å°±æ˜¯Pythonçš„é­…åŠ› - ç®€æ´è€Œå¼ºå¤§ï¼")</code></pre>
                        
                        <!-- è¾“å‡ºåŒºåŸŸ -->
                        <div class="output-area" id="outputArea" style="display: none;">
                            <div class="output-header">
                                <span class="output-title">ğŸ“Š è¿è¡Œç»“æœ</span>
                                <button class="btn btn-sm btn-outline-secondary clear-output-btn" onclick="clearOutput()">
                                    ğŸ—‘ï¸ æ¸…é™¤
                                </button>
                            </div>
                            <pre class="output-content" id="outputContent"></pre>
                        </div>
                        
                        <!-- åŠ è½½çŠ¶æ€ -->
                        <div class="loading-area" id="loadingArea" style="display: none;">
                            <div class="text-center p-3">
                                <div class="spinner-border spinner-border-sm text-primary me-2" role="status"></div>
                                <span>æ­£åœ¨è¿è¡Œä»£ç ...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    
    <script>
        let pyodideReady = false;
        let pyodide = null;

        // åˆå§‹åŒ–Pyodide
        async function initPyodide() {
            if (pyodideReady) return;
            
            try {
                console.log('å¼€å§‹åŠ è½½Pyodide...');
                pyodide = await loadPyodide();
                pyodideReady = true;
                console.log('PyodideåŠ è½½å®Œæˆ');
            } catch (error) {
                console.error('PyodideåŠ è½½å¤±è´¥:', error);
                throw error;
            }
        }

        // è¿è¡ŒPythonä»£ç 
        async function runPythonCode() {
            const outputArea = document.getElementById('outputArea');
            const outputContent = document.getElementById('outputContent');
            const loadingArea = document.getElementById('loadingArea');
            const runBtn = document.getElementById('runDemoBtn');
            const codeElement = document.getElementById('demoCode');
            
            try {
                // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
                loadingArea.style.display = 'block';
                outputArea.style.display = 'none';
                runBtn.disabled = true;
                
                // åˆå§‹åŒ–Pyodide
                if (!pyodideReady) {
                    await initPyodide();
                }
                
                // è·å–ä»£ç 
                const code = codeElement.textContent;
                
                // æ•è·è¾“å‡º
                pyodide.runPython(`
import sys
from io import StringIO
sys.stdout = StringIO()
                `);
                
                // æ‰§è¡Œä»£ç 
                pyodide.runPython(code);
                
                // è·å–è¾“å‡º
                const output = pyodide.runPython("sys.stdout.getvalue()");
                
                // æ˜¾ç¤ºç»“æœ
                outputContent.textContent = output || 'ä»£ç æ‰§è¡Œå®Œæˆï¼ˆæ— è¾“å‡ºï¼‰';
                outputArea.style.display = 'block';
                
            } catch (error) {
                console.error('ä»£ç æ‰§è¡Œé”™è¯¯:', error);
                outputContent.textContent = `é”™è¯¯: ${error.message}`;
                outputArea.style.display = 'block';
            } finally {
                loadingArea.style.display = 'none';
                runBtn.disabled = false;
            }
        }

        // æ¸…é™¤è¾“å‡º
        function clearOutput() {
            const outputArea = document.getElementById('outputArea');
            outputArea.style.display = 'none';
        }

        // å¤åˆ¶ä»£ç 
        document.querySelector('.copy-demo-btn').addEventListener('click', function() {
            const code = document.getElementById('demoCode').textContent;
            navigator.clipboard.writeText(code).then(function() {
                const btn = this;
                const originalText = btn.innerHTML;
                btn.innerHTML = 'âœ… å·²å¤åˆ¶';
                setTimeout(() => {
                    btn.innerHTML = originalText;
                }, 2000);
            }.bind(this));
        });

        // è¿è¡ŒæŒ‰é’®äº‹ä»¶
        document.getElementById('runDemoBtn').addEventListener('click', runPythonCode);

        // æ‰“å¼€JupyterLite
        function openJupyterLite() {
            console.log('openJupyterLiteå‡½æ•°è¢«è°ƒç”¨');
            
            try {
                // åœ¨æ–°çª—å£ä¸­æ‰“å¼€JupyterLite
                const newWindow = window.open('./lite/lab/index.html', '_blank');
                console.log('window.openç»“æœ:', newWindow);
                
                if (newWindow) {
                    // åˆ›å»ºä¸€ä¸ªåŠ è½½æç¤º
                    const notification = document.createElement('div');
                    notification.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: #17a2b8;
                        color: white;
                        padding: 15px 20px;
                        border-radius: 8px;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                        z-index: 9999;
                        max-width: 300px;
                        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                    `;
                    notification.innerHTML = `
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 20px; height: 20px; border: 2px solid rgba(255,255,255,0.3); border-top: 2px solid white; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                            <div>
                                <strong>JupyterLite å¯åŠ¨ä¸­...</strong><br>
                                <small>é¦–æ¬¡åŠ è½½éœ€è¦ç­‰å¾…1-2åˆ†é’Ÿ</small>
                            </div>
                        </div>
                        <style>
                            @keyframes spin {
                                0% { transform: rotate(0deg); }
                                100% { transform: rotate(360deg); }
                            }
                        </style>
                    `;
                    
                    document.body.appendChild(notification);
                    console.log('æ˜¾ç¤ºåŠ è½½é€šçŸ¥');
                    
                    // 5ç§’åè‡ªåŠ¨ç§»é™¤æç¤º
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 5000);
                } else {
                    console.log('å¼¹å‡ºçª—å£è¢«é˜»æ­¢');
                    alert('è¯·å…è®¸å¼¹å‡ºçª—å£æˆ–ç›´æ¥è®¿é—®: ./lite/lab/index.html');
                }
            } catch (error) {
                console.error('openJupyterLiteé”™è¯¯:', error);
                alert('æ‰“å¼€JupyterLiteæ—¶å‘ç”Ÿé”™è¯¯: ' + error.message);
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨äº¤äº’å¼åŠŸèƒ½');
            
            // æµ‹è¯•å‡½æ•°æ˜¯å¦å¯ç”¨
            window.testClick = function() {
                alert('æŒ‰é’®ç‚¹å‡»æµ‹è¯•æˆåŠŸï¼');
            };
            
            console.log('openJupyterLiteå‡½æ•°:', typeof openJupyterLite);
            console.log('testClickå‡½æ•°:', typeof window.testClick);
        });
    </script>
</body>
</html>
